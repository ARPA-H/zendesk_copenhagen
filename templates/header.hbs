{{!-- Services Revamp 11/25 --}}
<a class="skip-navigation" tabindex="1" href="#main-content">{{t 'skip_navigation' }}</a>

<header class="header">
  <div class="header-flex">
    <div class="logo">
      {{#link 'help_center'}}
        <img src="{{settings.logo}}" alt="{{t 'home_page' name=help_center.name}}" />
      {{/link}}
    </div>

    <div class="nav-wrapper-desktop">
      <nav class="user-nav" id="user-nav" aria-label="{{t 'user_navigation'}}">
        <ul class="user-nav-list">

          {{!-- SERVICE CATALOG BUTTON (Same Blue as Report an Issue) --}}
          <li class="submit-a-request">
            <a href="/hc/en-us/services"
              style="display:inline-flex;align-items:center;gap:8px;padding:10px 20px;border-radius:10px;
                     background:linear-gradient(180deg,#00205B,#00397E);color:#fff;font-weight:600;
                     text-decoration:none;box-shadow:0 4px 10px rgba(0,30,100,0.3);
                     transition:all 0.25s ease;transform:translateY(0);">
              Service Catalog
            </a>
          </li>

          {{!-- REPORT AN ISSUE BUTTON (3D Gradient, Darker) --}}
          <li class="submit-a-request">
            <a href="https://arpah1746463021.zendesk.com/hc/en-us/requests/new?ticket_form_id=41214960802331"
              style="display:inline-flex;align-items:center;gap:8px;padding:10px 20px;border-radius:10px;
                     background:linear-gradient(180deg,#00205B,#00397E);color:#fff;font-weight:600;
                     text-decoration:none;box-shadow:0 4px 10px rgba(0,30,100,0.3);
                     transition:all 0.25s ease;transform:translateY(0);">
              Report an issue
            </a>
          </li>

          {{#unless signed_in}}
            <li>
              {{#link "sign_in" class="sign-in"}}{{t 'sign_in'}}{{/link}}
            </li>
          {{/unless}}
        </ul>
      </nav>

      {{#if signed_in}}
        <div class="user-info dropdown">
          <button class="dropdown-toggle" aria-haspopup="true">
            {{user_avatar class="user-avatar"}}
            <span>
              {{user_name}}
              <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" focusable="false" viewBox="0 0 12 12" class="dropdown-chevron-icon" aria-hidden="true">
                <path fill="none" stroke="currentColor" stroke-linecap="round" d="M3 4.5l2.6 2.6c.2.2.5.2.7 0L9 4.5"/>
              </svg>
            </span>
          </button>
          <div class="dropdown-menu" role="menu">
            {{#my_profile role="menuitem"}}{{t 'profile'}}{{/my_profile}}
            {{link "requests" role="menuitem"}}
            {{#link "contributions" role="menuitem"}}{{t "activities"}}{{/link}}
            {{link "approval_requests" role="menuitem"}}
            {{contact_details role="menuitem"}}
            {{change_password role="menuitem"}}
            <div class="separator" role="separator"></div>
            {{link "sign_out" role="menuitem"}}
          </div>
        </div>
      {{/if}}
    </div>
  </div>

  <div class="nav-wrapper-mobile">
    <button class="menu-button-mobile" aria-controls="user-nav-mobile" aria-expanded="false" aria-label="{{t 'toggle_navigation'}}">
      {{#if signed_in}}
        {{user_avatar class="user-avatar"}}
      {{/if}}
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" focusable="false" viewBox="0 0 16 16" class="icon-menu">
        <path fill="none" stroke="currentColor" stroke-linecap="round" d="M1.5 3.5h13m-13 4h13m-13 4h13"/>
      </svg>
    </button>
    <nav class="menu-list-mobile" id="user-nav-mobile" aria-expanded="false">
      <ul class="menu-list-mobile-items">
        {{#if signed_in}}
          <li class="user-avatar-item item">
            {{#my_profile class="my-profile"}}
              {{user_avatar class="menu-profile-avatar"}}
              <div class="menu-profile-name">
                <div>{{user_name}}</div>
                <div class="my-profile-tooltip">{{t 'profile'}}</div>
              </div>
            {{/my_profile}}
          </li>
          <li class="item">{{link "requests"}}</li>
          <li class="item">{{#link "contributions"}}{{t "activities"}}{{/link}}</li>
          <li class="item">{{link "approval_requests"}}</li>
          <li class="item">{{contact_details}}</li>
          <li class="item">{{change_password class='change-password'}}</li>
          <li class="nav-divider"></li>
        {{else}}
          <li class="item">
            {{#link "sign_in"}}{{t 'sign_in'}}{{/link}}
          </li>
          <li class="nav-divider"></li>
        {{/if}}
        <li class="nav-divider"></li>
        {{#if signed_in}}
          <li class="item">{{link "sign_out"}}</li>
        {{/if}}
      </ul>
    </nav>
  </div>

  {{!-- 3D BUTTON ANIMATIONS --}}
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      document.querySelectorAll(".submit-a-request a").forEach(btn => {
        btn.addEventListener("mouseenter", () => {
          btn.style.transform = "translateY(-2px)";
          btn.style.boxShadow = "0 6px 16px rgba(0,60,150,0.35)";
        });
        btn.addEventListener("mouseleave", () => {
          btn.style.transform = "translateY(0)";
          btn.style.boxShadow = "0 4px 10px rgba(0,50,120,0.25)";
        });
        btn.addEventListener("mousedown", () => {
          btn.style.transform = "translateY(1px)";
          btn.style.boxShadow = "0 2px 6px rgba(0,40,100,0.25)";
        });
        btn.addEventListener("mouseup", () => {
          btn.style.transform = "translateY(-2px)";
          btn.style.boxShadow = "0 6px 16px rgba(0,60,150,0.35)";
        });
      });
    });
  </script>
</header>
