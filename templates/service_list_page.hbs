{{! ========================================================= }}
{{! SERVICE LIST PAGE     }}
{{! ========================================================= }}

<style>
  @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap');

  :root{
    --ink:#0b1324;
    --muted:#475569;
    --banner-border:#E5ECF5;
    --banner-bg: linear-gradient(180deg,#F8FBFF 0%,#F5F8FC 100%);
    --btn-navy:#0B2577;
    --btn-navy-2:#0D2E8E;
  }

  /* ============================================================
     SERVICE LIST PAGE BACKGROUND WRAPPER (ONLY this page)
     ============================================================ */
  .service-list-background {
    background: #020533 url("{{asset 'background.png'}}") no-repeat center top fixed;
    background-size: cover;
    min-height: 100vh;
    width: 100%;
    padding-bottom: 80px;
  }

  .svc-intro, .svc-intro * { 
    font-family: 'Poppins', sans-serif !important; 
  }

  /* Banner layout */
  .svc-intro { 
    margin: 16px 0 26px; 
  }

  .svc-intro-content{
    display:flex; 
    flex-direction:column; 
    gap:14px;
    border:1px solid var(--banner-border);
    border-radius:16px;
    background: var(--banner-bg);
    box-shadow:0 2px 6px rgba(16,24,40,.03);
    padding:18px 20px;
  }

  .svc-intro-head{
    display:flex; 
    gap:12px; 
    align-items:flex-start;
  }

  .svc-intro-icon{
    display:grid; 
    place-items:center; 
    min-width:42px; 
    height:42px; 
    border-radius:999px;
    color:#0B5DFF; 
    background: radial-gradient(100% 100% at 50% 50%, #E8EFFF 0%, #F1F6FF 100%);
    border:1px solid #D7E7FF;
  }

  .svc-intro-title{
    margin:0 0 4px; 
    font-size:1.06rem; 
    font-weight:700; 
    color:var(--ink);
  }

  .svc-intro-desc{
    margin:0; 
    color:var(--muted); 
    line-height:1.45; 
    font-size:.95rem;
  }

  .svc-intro-cta{
    display:flex; 
    align-items:center; 
    gap:12px; 
    justify-content:flex-end; 
    flex-wrap:wrap;
  }

  .svc-intro-inline{ 
    color:var(--muted); 
    font-size:.94rem; 
  }

  /* Buttons */
  .svc-btn{
    display:inline-flex; 
    align-items:center; 
    justify-content:center;
    padding:13px 26px; 
    border-radius:14px; 
    font-weight:700; 
    font-size:1rem;
    text-decoration:none; 
    transition:.25s ease; 
    cursor:pointer;
  }

  .svc-btn-primary{
    color:#ffffff !important;
    background: linear-gradient(135deg,var(--btn-navy),#061B52);
    box-shadow:0 6px 16px rgba(11,37,119,.28);
  }

  .svc-btn-primary:hover{
    transform:translateY(-2px);
    background: linear-gradient(135deg,var(--btn-navy-2),#061746);
    box-shadow:0 8px 24px rgba(11,37,119,.40);
  }

  .svc-btn-primary:visited{
    color:#ffffff !important;
  }

  @media (max-width:720px){ 
    .svc-intro-cta{ justify-content:flex-start; } 
  }

  /* Service grid */
  #service-catalog > ul{
    display:grid; 
    grid-template-columns:repeat(auto-fill,minmax(300px,1fr));
    column-gap:36px; 
    row-gap:48px; 
    align-items:start;
  }

  #service-catalog li{ list-style:none; }

  #service-catalog a{
    position:relative; 
    display:flex; 
    flex-direction:column; 
    align-items:center; 
    justify-content:center;
    gap:10px; 
    text-align:center; 
    padding:28px 22px; 
    min-height:210px; 
    text-decoration:none; 
    color:#0f172a;

    border:1px solid var(--banner-border); 
    border-radius:16px;
    background: var(--banner-bg); 
    box-shadow:0 2px 6px rgba(16,24,40,.03);
    transition: transform .2s ease, box-shadow .2s ease, border-color .2s ease;
  }

  #service-catalog a:hover,
  #service-catalog a:focus-visible{
    transform: translateY(-2px); 
    border-color:#D7E3F2; 
    box-shadow:0 10px 26px rgba(16,24,40,.10); 
    outline:none;
  }

  #service-catalog a h3, 
  #service-catalog a .title{
    margin:0; 
    font-weight:700; 
    color:var(--ink);
  }

  #service-catalog a .description{
    margin:0; 
    color:var(--muted); 
    line-height:1.35; 
    max-width:32ch;
  }
</style>

{{! ========================================================= }}
{{!  PAGE BODY WRAPPER — ADDS THE BACKGROUND IMAGE          }}
{{! ========================================================= }}

<div class="service-list-background">

  <div class="container-divider"></div>
  <div class="container">
    <div class="sub-nav">
      {{breadcrumbs}}
    </div>

    <h1>{{t 'services'}}</h1>

    <!-- ▼ Service Catalog banner -->
    <section class="svc-intro" aria-label="Service Catalog information">
      <div class="svc-intro-content">

        <div class="svc-intro-head">
          <div class="svc-intro-icon" aria-hidden="true">
            <svg width="22" height="22" viewBox="0 0 24 24" fill="none">
              <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="1.6"/>
              <path d="M12 10.5v6" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"/>
              <circle cx="12" cy="7.5" r="1.2" fill="currentColor"/>
            </svg>
          </div>

          <div>
            <h2 class="svc-intro-title">Service Catalog</h2>
            <p class="svc-intro-desc">
              Use the Service Catalog to request equipment, software, access, or other IT services.
              Each service option ensures your request reaches the right team quickly and accurately.
            </p>
          </div>
        </div>

        <div class="svc-intro-cta">
          <span class="svc-intro-inline"><strong>Having a technical problem or need to report an issue?</strong></span>
          <a class="svc-btn svc-btn-primary" href="/hc/{{help_center.locale}}/requests/new">Report an issue</a>
        </div>

      </div>
    </section>

    <div id="main-content">
      <div id="service-catalog"></div>
    </div>

  </div>

</div>

<script type="module">
  import { renderServiceCatalogList } from "service-catalog";

  const settings = {{json settings}};
  const helpCenterPath = {{json (page_path 'help_center')}};
  const container = document.getElementById("service-catalog");
  const baseLocale = {{json help_center.base_locale}};

  if (settings?.services?.length){
    settings.services.sort((a,b)=>(a.name||"").localeCompare(b.name||"", undefined, {sensitivity:"base"}));
  }

  renderServiceCatalogList(container, settings, helpCenterPath, baseLocale);
</script>
